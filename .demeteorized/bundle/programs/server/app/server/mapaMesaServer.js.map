{"version":3,"sources":["meteor://ðŸ’»app/server/mapaMesaServer.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,OAAO,CAAC,WAAW,EAAC,YAAU;AACjC,SAAO,SAAS,CAAC,IAAI,EAAE;CACxB,CAAC,CAAC;AACL,MAAM,CAAC,OAAO,CAAC,aAAa,EAAC,YAAU;AACnC,SAAO,WAAW,CAAC,IAAI,EAAE;CAC1B,CAAC,CAAC;AACL,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAC,YAAU;AAC9B,SAAO,MAAM,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC;CACrC,CAAC,CAAC;;AAEL,MAAM,CAAC,OAAO,CAAC,OAAO,EAAC,YAAU;AAC7B,SAAO,KAAK,CAAC,IAAI,EAAE,CAAC;CACrB,CAAC,CAAC;;AAEL,MAAM,CAAC,OAAO,CAAC;AACb,oBAAkB,EAAC,UAAS,MAAM,EAAC,MAAM,EAAC;AACtC,aAAS,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,MAAM,EAAC,EAAC,EAAC,IAAI,EAAC,EAAC,MAAM,EAAE,MAAM,EAAC,EAAC,CAAC,CAAC;GACzD;CACJ,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC;AACb,gBAAc,EAAC,UAAS,IAAI,EAAC;AAC1B,QAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;AAC9B,QAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AACpB,UAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACpB,WAAO,6BAA6B,CAAC;GACtC;AACD,kBAAgB,EAAE,UAAS,IAAI,EAAC;AAC9B,QAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,SAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACpB;AACD,iBAAe,EAAE,UAAS,KAAK,EAAC;AAC5B,UAAM,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,KAAK,CAAC,GAAG,EAAC,EAAC,EAAC,IAAI,EAClC;;;;;AAKI,sBAAc,EAAE,KAAK,CAAC,cAAc;AACpC,kBAAU,EAAE,KAAK,CAAC,UAAU;AAC5B,gBAAQ,EAAE,KAAK,CAAC,QAAQ;AACxB,gBAAQ,EAAE,KAAK,CAAC,QAAQ;OACzB;KACF,CACF,CAAC;GACL;AACD,aAAW,EAAC,YAAU;AACpB,WAAO,IAAI,IAAI,EAAE,CAAC;GACnB;CACJ,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC;AACb,iBAAe,EAAC,UAAS,IAAI,EAAC;AAC1B,eAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GAC1B;CACJ,CAAC,CAAC,sE","file":"/server/mapaMesaServer.js","sourcesContent":["Meteor.publish('MapaMesas',function(){\n    return MapaMesas.find()\n  });\nMeteor.publish('Observacoes',function(){\n    return Observacoes.find()\n  });\nMeteor.publish('Vendas',function(){\n    return Vendas.find({atiVenda: true})\n  });\n\nMeteor.publish('Itens',function(){\n    return Itens.find();\n  });\n\nMeteor.methods({\n  'editarEstadoMesa':function(mesaId,estado){\n      MapaMesas.update({_id: mesaId},{$set:{estado: estado}});\n    }\n});\n\nMeteor.methods({\n  'iniciarVenda':function(data){      \n  \t  data.horAberMesa = new Date();\n  \t  data.atiVenda = true;\n      Vendas.insert(data);\n      return \"Venda iniciada com sucesso!\";\n    },\n    'incluirProduto': function(data){\n      data.isCancelado = false;\n      Itens.insert(data);\n    },\n    'encerrarVenda': function(venda){\n        Vendas.update({_id: venda._id},{$set:\n          {\n              // numeroMesa: venda.numeroMesa,\n              // codGarcomAtend: venda.codGarcomAtend,\n              // qtdPessoas: venda.qtdPessoas,\n              // horAberMesa: venda.horAberMesa,\n              temPermanencia: venda.temPermanencia,\n              horSaiMesa: venda.horSaiMesa,\n              vlrTotal: venda.vlrTotal,\n              atiVenda: venda.atiVenda \n            }\n          }\n        ); \n    },\n    'horaServe':function(){\n      return new Date();\n    }\n});\n\nMeteor.methods({\n  'addObservacao':function(data){\n      Observacoes.insert(data);\n    }\n});"]}